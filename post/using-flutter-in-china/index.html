<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="主要是天朝的原因，解决办法亲测有效（windows + Android Studio）"><meta name=generator content="Hugo 0.81.0"><title>Flutter 卡在 package get 的解决办法 &#183; 我说的这句话是谎话</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css><!--[if lte IE 8]><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css><!--<![endif]--><!--[if lte IE 8]><link rel=stylesheet href=https://jimbray.xyz/css/side-menu-old-ie.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=https://jimbray.xyz/css/side-menu.css><!--<![endif]--><link rel=stylesheet href=https://jimbray.xyz/css/blackburn.css><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><link href="https://fonts.googleapis.com/css?family=Raleway" rel=stylesheet type=text/css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><link rel="shortcut icon" href=https://jimbray.xyz/img/favicon.ico type=image/x-icon><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-8790496632299830",enable_page_level_ads:!0})</script><meta name=google-site-verification content="lsfTBJKzPUfwHdKB84_xsa5u_38z1iLbcGOAkxOo03Q"></head><body><div id=layout><a href=#menu id=menuLink class=menu-link><span></span></a><div id=menu><a class="pure-menu-heading brand" href=https://jimbray.xyz/>Jimbray</a><div class=pure-menu><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=https://jimbray.xyz/><i class="fa fa-home fa-fw"></i>Home</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://jimbray.xyz/post/><i class="fa fa-archive fa-fw"></i>Archive</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://jimbray.xyz/tags/><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://jimbray.xyz/note/note><i class="fa fa-sticky-note fa-fw"></i>Notes</a></li></ul></div><div class="pure-menu social"><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=https://twitter.com/jimbray16 target=_blank><i class="fa fa-twitter-square fa-fw"></i>Twitter</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://github.com/jimbray target=_blank><i class="fa fa-github-square fa-fw"></i>GitHub</a></li></ul></div><div><div class=small-print><small>&copy; 2016. All rights reserved.</small></div><div class=small-print><small>Built with&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a></small>
<small>Theme&nbsp;<a href=https://github.com/yoshiharuyamashita/blackburn target=_blank>Blackburn</a></small></div></div></div><div id=main><div class=header><h1>Flutter 卡在 package get 的解决办法</h1><h2>主要是天朝的原因，解决办法亲测有效（windows + Android Studio）</h2></div><div class=content><div class=post-meta><div><i class="fa fa-calendar fa-fw"></i><time>03 Aug 2018, 20:20</time></div><div><i class="fa fa-tags fa-fw"></i><a class=post-taxonomy-tag href=https://jimbray.xyz/tags/flutter>Flutter</a></div></div><p>今天在尝试使用Flutter 的时候，需要使用一个第三方库</p><p>修改了 pubspec 文件之后，AS 像往常一样提示 需要 package get.</p><p>之前都听正常，不知道今天怎么了。</p><p>一直处在</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>Running <span style=color:#e6db74>&#34;flutter packages get&#34;</span> in project_name...
</code></pre></div><p>的状态。</p><p>没关系我等，等了大概有10分钟吧，看了下 logcat</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>OS Error: 信号灯超时时间已到
, errno <span style=color:#f92672>=</span> 121, address <span style=color:#f92672>=</span> storage.googleapis.com, port <span style=color:#f92672>=</span> <span style=color:#ae81ff>60109</span>
pub get failed <span style=color:#f92672>(</span>69<span style=color:#f92672>)</span> -- attempting retry <span style=color:#ae81ff>2</span> in <span style=color:#ae81ff>2</span> seconds...
OS Error: 信号灯超时时间已到
, errno <span style=color:#f92672>=</span> 121, address <span style=color:#f92672>=</span> pub.dartlang.org, port <span style=color:#f92672>=</span> <span style=color:#ae81ff>60352</span>
pub get failed <span style=color:#f92672>(</span>69<span style=color:#f92672>)</span> -- attempting retry <span style=color:#ae81ff>3</span> in <span style=color:#ae81ff>4</span> seconds...
Got socket error trying to find package package_name at https://pub.dartlang.org.
pub get failed <span style=color:#f92672>(</span>69<span style=color:#f92672>)</span> -- attempting retry <span style=color:#ae81ff>4</span> in <span style=color:#ae81ff>8</span> seconds...
Got socket error trying to find package package_name at https://pub.dartlang.org.
pub get failed <span style=color:#f92672>(</span>69<span style=color:#f92672>)</span> -- attempting retry <span style=color:#ae81ff>5</span> in <span style=color:#ae81ff>16</span> seconds...
Got socket error trying to find package package_name at https://pub.dartlang.org.
pub get failed <span style=color:#f92672>(</span>69<span style=color:#f92672>)</span> -- attempting retry <span style=color:#ae81ff>6</span> in <span style=color:#ae81ff>32</span> seconds...
</code></pre></div><p>看来，应该是 storage.googleapis.com 撞墙了。</p><p><del>Google</del> 搜索一下，原来flutter 已经有对策了。</p><p><a href=https://github.com/flutter/flutter/wiki/Using-Flutter-in-China>Using Flutter in China</a> 。</p><p>大概意思就是 把默认的 package 获取地址改为访问没有问题的镜像站就可以了。</p><p>具体操作</p><ul><li>Linux 或 Mac</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>export PUB_HOSTED_URL<span style=color:#f92672>=</span>https://pub.flutter-io.cn
export FLUTTER_STORAGE_BASE_URL<span style=color:#f92672>=</span>https://storage.flutter-io.cn
</code></pre></div><ul><li>Windows</li></ul><p>新增两个环境变量即可</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>PUB_HOSTED_URL <span style=color:#f92672>=====</span> https://pub.flutter-io.cn
FLUTTER_STORAGE_BASE_URL <span style=color:#f92672>=====</span> https://storage.flutter-io.cn
</code></pre></div><p>执行一下 flutter doctor命令</p><p>下载在 package get 应该就没有问题了。</p><p>反正我是没问题了。</p><div class="prev-next-post pure-g"><div class=pure-u-1-24 style=text-align:left><a href=https://jimbray.xyz/post/fab-onnestedscroll-just-called-once/><i class="fa fa-chevron-left"></i></a></div><div class=pure-u-10-24><nav class=prev><a href=https://jimbray.xyz/post/fab-onnestedscroll-just-called-once/>FloatingActionButton的Behavior里面onNestedScroll()只调了一次?</a></nav></div><div class=pure-u-2-24>&nbsp;</div><div class=pure-u-10-24><nav class=next><a href=https://jimbray.xyz/post/android-connect-to-ros/>Android使用ROSBridge与ROS通信 简单使用</a></nav></div><div class=pure-u-1-24 style=text-align:right><a href=https://jimbray.xyz/post/android-connect-to-ros/><i class="fa fa-chevron-right"></i></a></div></div><div id=disqus_thread></div><script type=text/javascript>(function(){var a,b;if(window.location.hostname=="localhost")return;a=document.createElement('script'),a.type='text/javascript',a.async=!0,b='jimbray-github-io',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><script src=https://jimbray.xyz/js/ui.js></script><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-78813427-1','auto'),ga('send','pageview')</script></body></html>